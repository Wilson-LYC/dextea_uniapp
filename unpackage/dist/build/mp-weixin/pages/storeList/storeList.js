"use strict";const e=require("../../common/vendor.js"),t=e.index.getMenuButtonBoundingClientRect(),a={components:{},data:()=>({menuButtonInfo:t,headersty:"padding-top:51px;height:32px;",mainsty:"height:calc(100vh - 83px - 100rpx);",headerLH:"line-height: 32px;",city:"",storeList:[]}),onLoad(){this.headersty="padding-top:"+t.top+"px;height:"+t.height+"px;",this.headerLH="line-height:"+t.height+"px;";const e=parseInt(t.height)+parseInt(t.top);this.mainsty="height:calc(100vh - "+e+"px - 100rpx);"},onShow(){let e=this.getCity();e?(this.city=e,this.getStoreList(e).then((e=>{this.storeList=e})).catch((e=>{console.log(e)}))):this.navToAreaList(),this.getStoreFromStorage()},methods:{back(){e.index.navigateBack()},getCity:()=>e.index.getStorageSync("city"),saveSid(t){e.index.setStorageSync("sid",t)},getStoreList(t){const a=e.index.getStorageSync("token");return new Promise(((s,i)=>{e.index.request({url:getApp().globalData.host+"/v1/customer/store?area="+t,method:"GET",header:{Authorization:a},success:e=>{s(e.data.data.stores)},fail:e=>{i(e)}})}))},navToBuy(){e.index.switchTab({url:"/pages/buy/buy"})},navToAreaList(){e.index.navigateTo({url:"/pages/openArea/openArea"})},selStore(e){this.saveSid(e.id),this.navToBuy()}}};if(!Array){e.resolveComponent("uni-icons")()}Math;const s=e._export_sfc(a,[["render",function(t,a,s,i,o,n){return{a:e.o((e=>n.back())),b:e.p({type:"back",size:"20"}),c:e.s(o.headerLH),d:e.s(o.headersty),e:e.t(o.city),f:e.p({type:"bottom",size:"18"}),g:e.o((e=>n.navToAreaList())),h:e.f(o.storeList,((t,a,s)=>e.e({a:e.t(t.name),b:"45a1fc46-2-"+s,c:t.address.length<15},t.address.length<15?{d:e.t(t.address)}:{e:e.t(t.address.substring(0,15))},{f:"1"==t.openState},(t.openState,{}),{g:e.o((e=>n.selStore(t)))}))),i:e.p({type:"location",size:"15",color:"#a5a5a5"}),j:e.s(o.mainsty)}}],["__scopeId","data-v-45a1fc46"]]);wx.createPage(s);
